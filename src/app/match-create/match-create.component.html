<div class="match-create-container">
  <div class="creat-match-heading">
    <p>Create a Match</p>
  </div>
  <div class="create-match-form">
  <div class="select-container">
    <div class="select-game-container">
      <div class="select-heading">
        <p>Select Game</p>
      </div>
      <div class="app-game-list">
        <app-game-list class="game-list" [selectedGame]="selectedGame" [gameList]="gameList"
                       (onCardClick)="onGameSelect($event)">
        </app-game-list>
      </div>
    </div>
    <div class="select-user-container">
      <div class="select-heading">
        <p>Select users</p>
      </div>
      <div class="match-user-list-container">
        <div class="match-user-list" *ngFor="let user of userList"
             (click)="selectedUsers.includes(user) ? onUserDeselect(user) : onUserSelect(user)"
             [class.selected]="selectedUsers.includes(user)">
          <span class="ranking-number" *ngIf="selectedUsers.includes(user)">
            {{ selectedUsers.indexOf(user) + 1 }}
          </span>
          <span>
            {{ user.firstname }} {{ user.lastname }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <button class="btn back-btn" type="submit" (click)="ifValidOpenDialog()">Create Match</button>
  </div>
  <app-dialog *ngIf="openDialog" [openDialog]="openDialog"
              (onConfirmation)="$event ? createMatch() : closeDialog()"
              class="match-app-dialog">
    <span>Creating Match with the following Users and their rankings</span>
    <div>
      <div *ngFor="let user of selectedUsers; let userRanking = index">
        <span>{{ userRanking + 1 }} {{ user.firstname }} {{ user.lastname }}</span><br>
      </div>
    </div>
    <span>For the game</span>
    <div>
      <span>{{ selectedGame?.name }}</span>
    </div>
  </app-dialog>

  <div class="alert" *ngIf="throwErrorAlert" (click)="this.throwErrorAlert = false">
    Select at least one game and two users!
  </div>
</div>
